<p>
  <%= link_to "一覧に戻る", streaming_services_path %></span>
</p>

<div class="row">
  <div class="col-11">
    <h1>連携中ストリーミングサービス「<%= @streaming_service.name %>」</h1>
  </div>
  <div class="col-1">
    <%= link_to "編集", edit_streaming_service_path(@streaming_service), class: "btn btn-success" %>
  </div>
</div>

<table class="table mb-4">
  <tr>
    <th>連携先</th>
    <td>
      <%= @streaming_service.service_type %>
    </td>
  </tr>
  <tr>
    <th>接続するデバイス</th>
    <td>
      <% if @streaming_service.device %>
        <%= link_to @streaming_service.device.name, device_path(@streaming_service.device.unique_key) %>
        <%= wrap_device_status_with_style(status: @streaming_service.device.current_device_status_name) %>
      <% end %>
    </td>
  </tr>
  <tr>
    <th>連携するリモートマクロのグループ</th>
    <td>
      <% if @streaming_service.remote_macro_group %>
        <%= link_to @streaming_service.remote_macro_group.name, @streaming_service.remote_macro_group %>
      <% end %>
    </td>
  </tr>
  <%= render 'streaming_type_table_row' %>
</table>

<% if @streaming_service.remote_macro_group %>
  <div class="row">
    <div class="col-11">
      <h2>設定中のリモートマクロ一覧</h2>
    </div>
    <div class="col-1">
      <%= link_to '編集', @streaming_service.remote_macro_group, class: "btn btn-success" %>
    </div>
  </div>

  <% @streaming_service.remote_macro_group.remote_macros.each do |remote_macro| %>
    <h4>
      <%= remote_macro.name %>(<%= remote_macro.steps %>)
    </h4>

    <p>トリガーワード</p>
    <ul>
      <% remote_macro.trigger_word_list.each do |word| %>
        <li><%= word %></li>
      <% end %>
    </ul>

    <!--
    <% remote_macro.trigger_word_list.each do |word| %>
      <div class="alert alert-info">
        <%= URI.decode_www_form_component api_device_streaming_service_enqueue_pbm_remote_macro_jobs_url(@streaming_service.device&.uuid || ":uuid", @streaming_service.unique_key, word) %>
      </div>
    <% end %>
    -->
  <% end %>
<% end %>
