<% crop_data = @sketch.crop_data %>
<%= form_with model: @sketch, url: feature_splatoon2_sketch_path(@sketch), method: :put, data: { controller: "image-crop", target: "image-crop.form", "image-crop-crop_data-value": crop_data } do |f| %>

  <%= render "shared/validation_errors", f: f %>

  <canvas id="image-canvas"></canvas>
  <div>
    <img src='data:<%= @sketch.encoded_image %>' id="sketch-image" style="display:none;">
  </div>
  <%= f.hidden_field :crop_data, data: { target: "image-crop.crop_data" } %>

  <div class="form-group row mt-5">
    <a href="#" class="form-control btn btn-primary" data-action="click->image-crop#submit">更新する</a>
  </div>
<% end %>
